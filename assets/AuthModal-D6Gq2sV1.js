import{c as k,b as E,j as e,z as _,U as M,a as P,m as L,r as p,X as R}from"./index-CgAcR0s5.js";import{M as C}from"./mail-DExvtKYQ.js";const O=[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]],j=k("eye-closed",O);const $=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N=k("eye",$);const z=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v=k("lock",z),W="SET_EMAIL",D="SET_PASSWORD",F="SET_FULL_NAME",U="SET_CONFIRM_PASSWORD",u={SET_EMAIL:W,SET_PASSWORD:D,SET_FULL_NAME:F,SET_CONFIRM_PASSWORD:U},Z=({validation:t,email:l,password:s,authDispatch:i,showPassword:d,setShowPassword:o,isRememberMe:n,setIsRememberMe:h,loginFormSuccessConditions:a,onSuccess:b})=>{const{verificationLogin:m}=E(),f=async c=>{if(c.preventDefault(),a)try{await m(l),b()}catch(g){g.message!=="User not found"&&(console.log(g.message),_.error("Something went wrong. Please try again."))}};return e.jsxs("form",{className:"space-y-4",onSubmit:f,autoComplete:"off",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",name:"email-login",autoComplete:"off",placeholder:"your@email.com",className:`w-full pl-10 pr-4 py-3 bg-neutral-800 border rounded-lg text-white placeholder-gray-500 focus:outline-none transition ${t.email||!l?"border-neutral-700 focus:border-white":"border-red-500/50 focus:border-red-500"}`,value:l,onChange:c=>{i({type:u.SET_EMAIL,payload:c.target.value})}})]}),!t.email&&l&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"Invalid email format (e.g., your@email.com)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:d.login?"text":"password",name:"password-login",autoComplete:"new-password",placeholder:"••••••••",className:`w-full pl-10 pr-4 py-3 bg-neutral-800 border rounded-lg text-white placeholder-gray-500 focus:outline-none transition ${t.password||!s?"border-neutral-700 focus:border-white":"border-red-500/50 focus:border-red-500"}`,value:s,onChange:c=>{i({type:u.SET_PASSWORD,payload:c.target.value})}}),e.jsx("button",{type:"button",className:"cursor-pointer absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>o(c=>({...c,login:!c.login})),children:d.login?e.jsx(j,{}):e.jsx(N,{})})]}),!t.password&&s&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"Min. 8 characters with at least 3 numbers"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-400 hover:text-white transition",children:[e.jsx("input",{type:"checkbox",className:"cursor-pointer w-4 h-4 rounded bg-neutral-800 border-neutral-700",checked:n,onChange:()=>h(!n)}),"Remember me"]}),e.jsx("button",{className:"text-gray-400 hover:text-white transition cursor-pointer",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:!a,className:`${a?"":"opacity-50 cursor-not-allowed"} w-full py-3 bg-white text-black rounded-lg font-semibold hover:scale-[1.02] transition cursor-pointer`,children:"Sign In"}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-neutral-800"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-neutral-900 text-gray-500",children:"Or continue with"})})]}),e.jsxs("a",{href:"https://github.com/PiPiDaStRiC1/",target:"_blank",className:"w-full py-3 px-4 border border-neutral-700 rounded-lg text-white hover:border-white transition cursor-pointer flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"})}),"GitHub"]})]})},H=({validation:t,fullName:l,email:s,password:i,confirmPassword:d,authDispatch:o,showPassword:n,setShowPassword:h,isAgreedPrivacy:a,setIsAgreedPrivacy:b,registerFormSuccessConditions:m,onSuccess:f})=>{const{register:c}=E(),g=async r=>{if(r.preventDefault(),m)try{await c({email:s,fullName:l}),f()}catch(y){y.message!=="User already logged!"&&(console.log(y.message),_.error("Something went wrong. Please try again."))}};return e.jsxs("form",{className:"space-y-4",onSubmit:g,autoComplete:"off",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",name:"fullname-register",autoComplete:"off",placeholder:"John Doe",className:`w-full pl-10 pr-4 py-3 bg-neutral-800 border rounded-lg text-white placeholder-gray-500 focus:outline-none transition ${t.fullName||!l?"border-neutral-700 focus:border-white":"border-red-500/50 focus:border-red-500 animate-shake"}`,value:l,onChange:r=>{o({type:u.SET_FULL_NAME,payload:r.target.value})}})]}),!t.fullName&&l&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"Only letters and spaces allowed. Words must begin with a capital letter."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",name:"email-register",autoComplete:"off",placeholder:"your@email.com",className:`w-full pl-10 pr-4 py-3 bg-neutral-800 border rounded-lg text-white placeholder-gray-500 focus:outline-none transition ${t.email||!s?"border-neutral-700 focus:border-white":"border-red-500/50 focus:border-red-500 animate-shake"}`,value:s,onChange:r=>{o({type:u.SET_EMAIL,payload:r.target.value})}})]}),!t.email&&s&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"Invalid email format (e.g., your@email.com)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:n.register?"text":"password",name:"password-register",autoComplete:"new-password",placeholder:"••••••••",className:`w-full pl-10 pr-4 py-3 bg-neutral-800 border rounded-lg text-white placeholder-gray-500 focus:outline-none transition ${t.password||!i?"border-neutral-700 focus:border-white":"border-red-500/50 focus:border-red-500 animate-shake"}`,value:i,onChange:r=>{o({type:u.SET_PASSWORD,payload:r.target.value})}}),e.jsx("button",{type:"button",className:"cursor-pointer absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>h(r=>({...r,register:!r.register})),children:n.register?e.jsx(j,{}):e.jsx(N,{})})]}),!t.password&&i&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"Min. 8 characters with at least 3 numbers"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:n.confirm?"text":"password",name:"password-confirm",autoComplete:"new-password",placeholder:"••••••••",className:`w-full pl-10 pr-4 py-3 bg-neutral-800 border rounded-lg text-white placeholder-gray-500 focus:outline-none transition ${t.confirmPassword||!d?"border-neutral-700 focus:border-white":"border-red-500/50 focus:border-red-500 animate-shake"}`,value:d,onChange:r=>{o({type:u.SET_CONFIRM_PASSWORD,payload:r.target.value})}}),e.jsx("button",{type:"button",className:"cursor-pointer absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>h(r=>({...r,confirm:!r.confirm})),children:n.confirm?e.jsx(j,{}):e.jsx(N,{})})]}),!t.confirmPassword&&d&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"Passwords do not match"]})]}),e.jsxs("label",{className:"flex items-start gap-2 cursor-pointer text-sm text-gray-400",children:[e.jsx("input",{type:"checkbox",className:"cursor-pointer mt-1 w-4 h-4 rounded bg-neutral-800 border-neutral-700",checked:a,onChange:()=>b(!a)}),e.jsxs("div",{children:[e.jsxs("span",{children:["I agree to the ",e.jsx("button",{type:"button",className:"text-white hover:underline cursor-pointer",children:"Terms of Service"})," and ",e.jsx("button",{type:"button",className:"text-white hover:underline cursor-pointer",children:"Privacy Policy"})]}),!a&&e.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1 animate-fadeIn",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-red-400"}),"You must agree to the terms to continue"]})]})]}),e.jsx("button",{type:"submit",disabled:!m,className:`${m?"":"opacity-50 cursor-not-allowed"} w-full py-3 bg-white text-black rounded-lg font-semibold hover:scale-[1.02] transition cursor-pointer`,children:"Create Account"})]})},q=(t,{type:l,payload:s=null})=>{switch(l){case u.SET_EMAIL:return{...t,email:s};case u.SET_FULL_NAME:return{...t,fullName:s};case u.SET_CONFIRM_PASSWORD:return{...t,confirmPassword:s};case u.SET_PASSWORD:return{...t,password:s};default:return t}},B={email:"",fullName:"",password:"",confirmPassword:""};function V(){const t=P(),s=L().state?.redirectTo,[{email:i,fullName:d,password:o,confirmPassword:n},h]=p.useReducer(q,B),[a,b]=p.useState("login"),[m,f]=p.useState(!0),[c,g]=p.useState(!0),[r,y]=p.useState({login:!1,register:!1,confirm:!1}),x=p.useMemo(()=>({email:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(i),fullName:/^[A-ZА-ЯЁ][a-zа-яё]+ [A-ZА-ЯЁ][a-zа-яё]+$/.test(d),password:/^(?=(?:.*\d){3,})(?=.*[A-Za-zА-Яа-яЁё])[A-Za-zА-Яа-яЁё\d]{8,}$/.test(o),confirmPassword:o===n&&n.length>0}),[i,d,o,n]),A=x.email&&x.password,T=x.email&&x.password&&x.fullName&&x.confirmPassword&&m,S=()=>{s?t(s,{replace:!0}):t("/profile",{replace:!0})};return p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),p.useEffect(()=>{const w=I=>{I.key==="Escape"&&t(-1)};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)}),e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black via-transparent to-black backdrop-blur-md z-50 flex justify-center items-center animate-fadeIn",children:e.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-8 rounded-2xl w-full max-w-md relative shadow-2xl",onClick:w=>w.stopPropagation(),children:[e.jsx("button",{className:"absolute cursor-pointer top-4 right-4 p-2 rounded-lg text-gray-400 hover:text-white hover:bg-neutral-800 transition",onClick:()=>t(-1),children:e.jsx(R,{className:"w-5 h-5"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:a==="login"?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-gray-400 text-sm",children:a==="login"?"Sign in to your account":"Join our community"})]}),e.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-neutral-800/50 rounded-lg",children:[e.jsx("button",{className:`flex-1 py-2 px-4 rounded-md cursor-pointer transition ${a==="login"?"bg-white text-black font-medium":"text-gray-400 hover:text-white"}`,onClick:()=>b("login"),children:"Login"}),e.jsx("button",{className:`flex-1 py-2 px-4 rounded-md cursor-pointer transition ${a==="register"?"bg-white text-black font-medium":"text-gray-400 hover:text-white"}`,onClick:()=>b("register"),children:"Register"})]}),a==="login"&&e.jsx(Z,{validation:x,email:i,password:o,authDispatch:h,showPassword:r,setShowPassword:y,isRememberMe:c,setIsRememberMe:g,loginFormSuccessConditions:A,onSuccess:S}),a==="register"&&e.jsx(H,{validation:x,fullName:d,email:i,password:o,confirmPassword:n,authDispatch:h,showPassword:r,setShowPassword:y,isAgreedPrivacy:m,setIsAgreedPrivacy:f,registerFormSuccessConditions:T,onSuccess:S})]})})}export{V as default};
